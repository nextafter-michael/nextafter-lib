var o={273:(o,t,e)=>{e.d(t,{A:()=>r});class n{static defaultOptions={id:(new Date).getTime(),content:{headingHTML:"",bodyHTML:"",footerHTML:""},actions:[{textHTML:"Yes, I agree!",href:"https://donate.example.com/?src=popup"},{textHTML:"No, I do not agree.",action:function(o,t){this?this.close():t.close()}}],design:{width:640,popupBackdrop:"rgba(0 0 0 / 5%)",popupForegroundColor:"black",popupBackgroundColor:"white",popupBorder:"none",popupBorderAlternate:"none",popupBorderRadius:"1rem",popupButtonForegroundColor:"black",popupButtonBackgroundColor:"#f5c635",popupButtonBorder:"none",popupButtonForegroundColor2:"white",popupButtonBackgroundColor2:"black",popupButtonBorder2:"none"},open:!1};static createDialogElement=function(){const o=document.createElement("dialog");return o.id="popup-"+(new Date).getTime(),o.classList.add("NextAfterPopup","popup"),document.body.appendChild(o),o};static createCloseButton=function(o){const t=document.createElement("a");return t.classList.add("NextAfterPopup__close-button"),t.href="javascript:void(0)",t.textContent="Ã—",t.tabIndex=-1,t.addEventListener("click",function(o){(o=o||this||null)&&(o instanceof n&&o.hide(),o instanceof HTMLDialogElement&&o.close())}.bind(this,o)),t};constructor(o,t={}){this.dialog=o||n.createDialogElement(),this.config={...n.defaultOptions,...t},this.content={...n.defaultOptions.content,...this.config.content},this.actions=this.config.actions&&this.config.actions.length>0?this.config.actions:n.defaultOptions.actions,this.dialog.innerHTML='<div>\n      <div class="na-column NextAfterPopup__content">\n        <div class="na-block">\n          <section class="NextAfterPopup__header"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__body na-column"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__actions na-row na-gap-1"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__footer"></section>\n        </div>\n      </div>\n    </div>',this.content={heading:this.dialog.querySelector(".NextAfterPopup__header")&&this.content.heading?(this.dialog.querySelector(".NextAfterPopup__header").innerHTML=this.content.heading,this.dialog.querySelector(".NextAfterPopup__header")):null,body:this.dialog.querySelector(".NextAfterPopup__body")&&this.content.body?(this.dialog.querySelector(".NextAfterPopup__body").innerHTML=this.content.body,this.dialog.querySelector(".NextAfterPopup__body")):null,footer:this.dialog.querySelector(".NextAfterPopup__footer")&&this.content.footer?(this.dialog.querySelector(".NextAfterPopup__footer").innerHTML=this.content.footer,this.dialog.querySelector(".NextAfterPopup__footer")):null,actions:this.dialog.querySelector(".NextAfterPopup__actions")&&this.actions&&this.actions.length>0?(this.actions.forEach((({type:o,textHTML:t,action:e=null,href:n="javascript:void(0)"},r)=>{const i=document.createElement("a"),p=document.createElement("button");p.classList.add("NextAfterPopup__action-button"),p.innerHTML=t,p.tabIndex=0,i.href=n,"function"==typeof e&&p.addEventListener("click",function(o){e.call(this,o,this.dialog)}.bind(this)),i.appendChild(p),this.dialog.querySelector(".NextAfterPopup__actions").appendChild(i)})),this.dialog.querySelector(".NextAfterPopup__actions")):null},this.buttons=Array.from(this.content.actions.children),this.config.design={...n.defaultOptions.design,...this.config.design};const e=new CSSStyleSheet,r=this.config.design;if(e.replaceSync(`\n      .NextAfterPopup {\n        --popup-maxWidth: ${r.width||640}px;\n        --popup-backdrop: ${r.popupBackdrop};\n        --popup-fgColor: ${r.popupForegroundColor};\n        --popup-bgColor: ${r.popupBackgroundColor};\n        --popup-border: ${r.popupBorder};\n        --popup-border-alt: ${r.popupBorderAlternate};\n        --popup-cornerRadius: ${r.popupBorderRadius};\n        --popup-button-fgColor: ${r.popupButtonForegroundColor};\n        --popup-button-bgColor: ${r.popupButtonBackgroundColor};\n        --popup-button-border: ${r.popupButtonBorder};\n        --popup-button-cornerRadius: calc(${r.popupBorderRadius} / 2);\n        --popup-button-fgColor2: ${r.popupButtonForegroundColor2};\n        --popup-button-bgColor2: ${r.popupButtonBackgroundColor2};\n        --popup-button-border2: ${r.popupButtonBorder2};\n      }\n    `),"none"!==r.popupBorderAlternate&&e.replaceSync("\n      .NextAfterPopup > div {\n        padding: 1rem;\n        border: var(--popup-border-alt);\n      }\n    "),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e],this.dialog.insertAdjacentElement("beforeend",n.createCloseButton.call(this,this.dialog)),!this.dialog.isConnected&&document.body.appendChild(this.dialog),!0===this.config.open)this.dialog.showModal();else if(this.config.openAfterSeconds&&!Number.isNaN(parseInt(this.config.openAfterSeconds))){const o=parseInt(this.config.openAfterSeconds);setTimeout((()=>{this.dialog.showModal()}),1e3*o)}return console.log(this),this}isOpen(){return!!this.dialog.open}show(){this.dialog.showModal()}hide(){this.dialog.close()}}const r=n}},t={};function e(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return o[n](i,i.exports,e),i.exports}e.d=(o,t)=>{for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})},e.o=(o,t)=>Object.prototype.hasOwnProperty.call(o,t);var n={};e.d(n,{A:()=>p});var r=e(273);class i extends r.A{static defaultOptions={...r.A.defaultOptions,exitIntentDelaySeconds:0};constructor(o,t){const e=t.exitIntentDelaySeconds||0;if(e<0)throw new Error("armDelaySeconds must be a positive number.");try{super(o||null,t)}catch(o){throw console.error("Error creating Popup:",o),o}return this.options=t,this.start(1e3*e),this}start(o=0){!function(o,t=0,...e){const n=t=>{if(!t.toElement&&!t.relatedTarget){document.removeEventListener("mouseout",n),window.onblur=()=>{},o.call(null,...e);const t=o=>{"dialog"==o.target.tagName.toLowerCase()&&(o.target.close(),window.onclick=()=>{})};window.onclick=t}};setTimeout((()=>{document.addEventListener("mouseout",n),window.onblur=n}),t)}((()=>{if(this.isOpen())return console.warn("Popup is already open.");this.show()}),o)}}const p=i;var s=n.A;export{s as default};