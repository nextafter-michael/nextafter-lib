var t={56:(t,e,o)=>{t.exports=function(t){var e=o.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function o(t){for(var o=-1,n=0;n<e.length;n++)if(e[n].identifier===t){o=n;break}return o}function n(t,n){for(var i={},a=[],s=0;s<t.length;s++){var p=t[s],c=n.base?p[0]+n.base:p[0],l=i[c]||0,d="".concat(c," ").concat(l);i[c]=l+1;var u=o(d),h={css:p[1],media:p[2],sourceMap:p[3],supports:p[4],layer:p[5]};if(-1!==u)e[u].references++,e[u].updater(h);else{var f=r(h,n);n.byIndex=s,e.splice(s,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function r(t,e){var o=e.domAPI(e);return o.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;o.update(t=e)}else o.remove()}}t.exports=function(t,r){var i=n(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=o(i[a]);e[s].references--}for(var p=n(t,r),c=0;c<i.length;c++){var l=o(i[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=p}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},232:(t,e,o)=>{o.d(e,{A:()=>s});var n=o(601),r=o.n(n),i=o(314),a=o.n(i)()(r());a.push([t.id,".na-block { display: block }\n.na-flex { display: flex }\n.na-column {\n  display: flex;\n  flex-direction: column;\n}\n.na-row {\n  display: flex;\n  flex-direction: row;\n}\n.na-justify-center { justify-content: center }\n.na-justify-between { justify-content: between }\n.na-align-center { align-items: center }\n.na-text-center { text-align: center }\n.na-text-left { text-align: left }\n.na-text-right { text-align: right }\n.na-gap-0 { gap: 0 }\n.na-gap-1 { gap: 0.5rem }\n.na-gap-2 { gap: 1rem }\n.na-gap-3 { gap: 1.5rem }\n.na-gap-4 { gap: 2rem }\n.na-gap-5 { gap: 3rem }",""]);const s=a},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o="",n=void 0!==e[5];return e[4]&&(o+="@supports (".concat(e[4],") {")),e[2]&&(o+="@media ".concat(e[2]," {")),n&&(o+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),o+=t(e),n&&(o+="}"),e[2]&&(o+="}"),e[4]&&(o+="}"),o})).join("")},e.i=function(t,o,n,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var p=this[s][0];null!=p&&(a[p]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);n&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),o&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=o):l[2]=o),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,o){var n=function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},812:(t,e,o)=>{o.d(e,{A:()=>c});var n=o(601),r=o.n(n),i=o(314),a=o.n(i),s=o(232),p=a()(r());p.i(s.A),p.push([t.id,".NextAfterPopup {\n  padding: 0;\n  color: var(--popup-fgColor);\n  background: var(--popup-bgColor);\n  width: calc(100% * 2 / 3);\n  min-width: var(--popup-minWidth, 360px);\n  max-width: var(--popup-maxWidth, 640px);\n  border-radius: var(--popup-cornerRadius);\n}\ndialog.NextAfterPopup { border: var(--popup-border) }\ndialog.NextAfterPopup::backdrop { background: var(--popup-backdrop) }\n.NextAfterPopup > div { position: relative }\n.NextAfterPopup h1,\n.NextAfterPopup h2,\n.NextAfterPopup h3,\n.NextAfterPopup h4,\n.NextAfterPopup h5,\n.NextAfterPopup h6,\n.NextAfterPopup ul,\n.NextAfterPopup li,\n.NextAfterPopup p {\n  margin: 0;\n  margin-block-start: 0;\n  margin-block-end: 0;\n  margin-block-end: 0.5rem;\n}\n.NextAfterPopup .NextAfterPopup__close-button {\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  right: 0;\n  opacity: 0.7;\n  z-index: 1;\n  width: 32px;\n  height: 32px;\n  font-size: 32px;\n  line-height: 24px;\n  text-align: center;\n  text-decoration: none;\n  outline: none;\n  color: black;\n  background: transparent;\n  transition: opacity 0.15s ease;\n}\n.NextAfterPopup .NextAfterPopup__close-button:hover { opacity: 0.85 }\n.NextAfterPopup .NextAfterPopup__close-button:active { opacity: 1.0 }\n.NextAfterPopup .NextAfterPopup__content { padding: 1rem }\n.NextAfterPopup .NextAfterPopup__actions {\n  display: flex;\n  flex-direction: row;\n  gap: 1rem;\n  margin: 1rem 0 0;\n}\n.NextAfterPopup a:has(button) { display: contents }\n.NextAfterPopup .NextAfterPopup__action-button {\n  display: block;\n  width: 100%;\n  max-width: 50%;\n  padding: 0.5rem;\n  font-size: 1em;\n  font-weight: 700;\n  cursor: pointer;\n  transition: all 0.15s ease-in-out, scale 0.2s ease;\n}\n/* .NextAfterPopup .NextAfterPopup__action-button:hover { scale: 102% } */\n.NextAfterPopup .NextAfterPopup__actions a .NextAfterPopup__action-button {\n  color: var(--popup-button-fgColor);\n  background-color: var(--popup-button-bgColor);\n  border: var(--popup-button-border);\n  border-radius: var(--popup-button-cornerRadius);\n}\n.NextAfterPopup .NextAfterPopup__actions a:not(:first-child) .NextAfterPopup__action-button {\n  display: block;\n  width: 100%;\n  max-width: 50%;\n  padding: 0.5rem;\n  font-size: 1em;\n  cursor: pointer;\n  color: var(--popup-button-fgColor2);\n  background-color: var(--popup-button-bgColor2);\n  border: var(--popup-button-border2);\n/*   outline-color: var(--popup-button-bgColor); */\n}\n@supports (color-mix(in srgb, var(--popup-button-bgColor), black 10%)) {\n  .NextAfterPopup .NextAfterPopup__actions a .NextAfterPopup__action-button:hover { background-color: color-mix(in srgb, var(--popup-button-bgColor), black 10%) }\n  .NextAfterPopup .NextAfterPopup__actions a:not(:first-child) .NextAfterPopup__action-button:hover { background-color: color-mix(in srgb, var(--popup-button-bgColor2), black 10%) }\n}\n@supports (not color-mix(in srgb, var(--popup-button-bgColor), black 10%)) and (filter: brightness(0.9)) {\n  .NextAfterPopup .NextAfterPopup__actions a .NextAfterPopup__action-button:hover { filter: brightness(0.9) }\n  .NextAfterPopup .NextAfterPopup__actions a:not(:first-child) .NextAfterPopup__action-button:hover { filter: brightness(0.9) }\n}\n@media only screen and (max-width: 480px) {\n  .NextAfterPopup .NextAfterPopup__actions {\n    display: flex;\n    flex-direction: column;\n  }\n  .NextAfterPopup .NextAfterPopup__action-button {\n    max-width: 100%;\n  }\n}\n",""]);const c=p},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(o){!function(t,e,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,r&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var i=o.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,o)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.nc=void 0;var n={};o.d(n,{Hm:()=>N,M6:()=>P,zD:()=>w,Lx:()=>B,Xs:()=>H,Ay:()=>O,cs:()=>R,$c:()=>_,cH:()=>T,g6:()=>x,EM:()=>I,_P:()=>L,WF:()=>k,nV:()=>M});var r=o(72),i=o.n(r),a=o(825),s=o.n(a),p=o(659),c=o.n(p),l=o(56),d=o.n(l),u=o(540),h=o.n(u),f=o(113),m=o.n(f),g=o(812),y={};y.styleTagTransform=m(),y.setAttributes=d(),y.insert=c().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=h(),i()(g.A,y),g.A&&g.A.locals&&g.A.locals;class b{static defaultOptions={id:(new Date).getTime(),content:{headingHTML:"",bodyHTML:"",footerHTML:""},actions:[{textHTML:"Yes, I agree!",href:"https://donate.example.com/?src=popup"},{textHTML:"No, I do not agree.",action:function(t,e){this?this.close():e.close()}}],design:{width:640,popupBackdrop:"rgba(0 0 0 / 5%)",popupForegroundColor:"black",popupBackgroundColor:"white",popupBorder:"none",popupBorderAlternate:"none",popupBorderRadius:"1rem",popupButtonForegroundColor:"black",popupButtonBackgroundColor:"#f5c635",popupButtonBorder:"none",popupButtonForegroundColor2:"white",popupButtonBackgroundColor2:"black",popupButtonBorder2:"none"},open:!1};static createDialogElement=function(){const t=document.createElement("dialog");return t.id="popup-"+(new Date).getTime(),t.classList.add("NextAfterPopup","popup"),document.body.appendChild(t),t};static createCloseButton=function(t){const e=document.createElement("a");return e.classList.add("NextAfterPopup__close-button"),e.href="javascript:void(0)",e.textContent="Ã—",e.tabIndex=-1,e.addEventListener("click",function(t){(t=t||this||null)&&(t instanceof b&&t.hide(),t instanceof HTMLDialogElement&&t.close())}.bind(this,t)),e};constructor(t,e={}){this.config={...b.defaultOptions,...e},this.config.design={...b.defaultOptions.design,...this.config.design},this.content={...b.defaultOptions.content,...this.config.content},this.actions=this.config.actions&&this.config.actions.length>0?this.config.actions:b.defaultOptions.actions,this.dialog=t||b.createDialogElement(),this.dialog.innerHTML='<div>\n      <div class="na-column NextAfterPopup__content">\n        <div class="na-block">\n          <section class="NextAfterPopup__header"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__body na-column"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__actions na-row na-gap-1"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__footer"></section>\n        </div>\n      </div>\n    </div>',this.blocks={},this.blocks.heading=this.dialog.querySelector(".NextAfterPopup__header")&&this.content.headingHTML&&0!==this.content.headingHTML.trim().length?(this.dialog.querySelector(".NextAfterPopup__header").innerHTML=this.content.headingHTML,this.dialog.querySelector(".NextAfterPopup__header")):null,this.blocks.body=this.dialog.querySelector(".NextAfterPopup__body")&&this.content.bodyHTML&&0!==this.content.bodyHTML.trim().length?(this.dialog.querySelector(".NextAfterPopup__body").innerHTML=this.content.bodyHTML,this.dialog.querySelector(".NextAfterPopup__body")):null,this.blocks.footer=this.dialog.querySelector(".NextAfterPopup__footer")&&this.content.footerHTML&&0!==this.content.footerHTML.trim().length?(this.dialog.querySelector(".NextAfterPopup__footer").innerHTML=this.content.footerHTML,this.dialog.querySelector(".NextAfterPopup__footer")):null,this.blocks.actions=this.dialog.querySelector(".NextAfterPopup__actions")&&this.actions&&this.actions.length>0?(this.actions.forEach((({type:t,textHTML:e,action:o=null,href:n="javascript:void(0)"},r)=>{const i=document.createElement("a"),a=document.createElement("button");a.classList.add("NextAfterPopup__action-button"),a.innerHTML=e,a.tabIndex=0,i.href=n,"function"==typeof o&&a.addEventListener("click",function(t){o.call(this,t,this.dialog)}.bind(this)),i.appendChild(a),this.dialog.querySelector(".NextAfterPopup__actions").appendChild(i)})),this.dialog.querySelector(".NextAfterPopup__actions")):null,this.buttons=Array.from(this.blocks.actions.children);const o=new CSSStyleSheet,n=this.config.design;if(o.replaceSync(`\n      .NextAfterPopup {\n        --popup-maxWidth: ${n.width||640}px;\n        --popup-backdrop: ${n.popupBackdrop};\n        --popup-fgColor: ${n.popupForegroundColor};\n        --popup-bgColor: ${n.popupBackgroundColor};\n        --popup-border: ${n.popupBorder};\n        --popup-border-alt: ${n.popupBorderAlternate};\n        --popup-cornerRadius: ${n.popupBorderRadius};\n        --popup-button-fgColor: ${n.popupButtonForegroundColor};\n        --popup-button-bgColor: ${n.popupButtonBackgroundColor};\n        --popup-button-border: ${n.popupButtonBorder};\n        --popup-button-cornerRadius: calc(${n.popupBorderRadius} / 2);\n        --popup-button-fgColor2: ${n.popupButtonForegroundColor2};\n        --popup-button-bgColor2: ${n.popupButtonBackgroundColor2};\n        --popup-button-border2: ${n.popupButtonBorder2};\n      }\n    `),"none"!==n.popupBorderAlternate&&o.replaceSync("\n      .NextAfterPopup > div {\n        padding: 1rem;\n        border: var(--popup-border-alt);\n      }\n    "),document.adoptedStyleSheets=[...document.adoptedStyleSheets,o],this.dialog.insertAdjacentElement("beforeend",b.createCloseButton.call(this,this.dialog)),!this.dialog.isConnected&&document.body.appendChild(this.dialog),!0===this.config.open)this.dialog.showModal();else if(this.config.openAfterSeconds&&!Number.isNaN(parseInt(this.config.openAfterSeconds))){const t=parseInt(this.config.openAfterSeconds);setTimeout((()=>{this.dialog.showModal()}),1e3*t)}return console.log(this),this}isOpen(){return!!this.dialog.open}show(){this.dialog.showModal()}hide(){this.dialog.close()}}const w=b,x=function(t,e=0,...o){const n=e=>{if(!e.toElement&&!e.relatedTarget){document.removeEventListener("mouseout",n),window.onblur=()=>{},t.call(null,...o);const e=t=>{"dialog"==t.target.tagName.toLowerCase()&&(t.target.close(),window.onclick=()=>{})};window.onclick=e}};return setTimeout((()=>{document.addEventListener("mouseout",n),window.onblur=n}),e)};class v extends w{static defaultOptions={...w.defaultOptions,exitIntentDelaySeconds:0};constructor(t,e){const o=(e.exitIntentDelaySeconds&&e.exitIntentDelaySeconds>=0?e.exitIntentDelaySeconds:void 0)??0;if(o<0)throw new Error("armDelaySeconds must be a positive number.");try{super(t||null,e)}catch(t){throw console.error("Error creating Popup:",t),t}return this.options=e,this.start(1e3*o),this}start(t=0){x((()=>{if(this.isOpen())return console.warn("Popup is already open.");this.show()}),t)}}const N=v;class A{static getURL="https://pxl.nextafter.org/get_cors.php";static sendURL="https://pxl.nextafter.org/tracker.php";static validQueryParams=["id","type","range","from","to","bypass"];static validateQueryParamValues={amt:t=>t&&!isNaN(t)&&t>0,type:t=>[void 0,"single","recurring","unbounce"].includes(t),range:t=>[void 0,"hour","week","month","year","all"].includes(t),from:t=>t&&"string"==typeof t&&/^\d+$/.test(t)&&8===t.length&&!isNaN(Date.parse(t)),to:t=>t&&"string"==typeof t&&/^\d+$/.test(t)&&8===t.length&&!isNaN(Date.parse(t)),name:t=>t&&"string"==typeof t&&t.length>0,state:t=>t&&"string"==typeof t&&t.length>0,city:t=>t&&"string"==typeof t&&t.length>0};static sendPixel=function(t){const e=new Image;e.onload=function(){console.log("Pixel sent successfully."),this.remove()},e.onerror=function(){console.error("Error sending pixel."),this.remove()},e.src=t,document.body.appendChild(e)};constructor(t){const e=Symbol("id");this._getId=function(){return this[e]},this._setId=function(t){this[e]=t};const o=Symbol("debug_mode");this._getDebugMode=function(){return this[o]},this._setDebugMode=function(t){this[o]=t},this._setId(t),this._setDebugMode(!1),this.responses=[]}get(t={},e=void 0){const o=new URL(A.getURL);return o.searchParams.append("id",this.id),Object.entries(t).filter((([t,e])=>void 0!==e)).map((([t,e])=>[t.toLocaleLowerCase(),e])).sort((([t],[e])=>{const o=A.validQueryParams;return o.indexOf(t)-o.indexOf(e)})).forEach((([t,e])=>{if("id"==t)o.searchParams.append("id",this.id),console.warn("Warning: Cannot override ID set by constructor.");else if("bypass"==t)console.warn("Cannot use bypass parameter in get() method. Enable pixel instance debug mode instead to bypass cache.");else if("from"==t||"to"==t){const n=new Date(e).toISOString().split("T")[0].replace(/-/g,"");if(!A.validateQueryParamValues[t](n))return console.warn(`Warning: Invalid date format for "${t}" ignored. Expected format is YYYYMMDD.`);o.searchParams.append(t,n)}else if(A.validQueryParams.includes(t)){if(A.validateQueryParamValues[t]&&!A.validateQueryParamValues[t](e))return console.warn(`Warning: Invalid value for "${t}" ignored.`);o.searchParams.append(t,e)}else console.warn(`Warning: Invalid query parameter "${t}" ignored.`)})),this.debug&&(o.searchParams.append("bypass","1"),console.warn("Warning! Bypass mode is intended for testing purposes only. Disable it before launching your experiment.")),new Promise((async(t,n)=>{try{const r=await fetch(o.href,{method:"GET",headers:{accept:"application/json"}});if(200!=r.status)throw new Error("HTTP error:",r.status);const i=await r.json();e&&"function"==typeof e&&e(i),this.responses.push(i),t(i),setTimeout((()=>{n({error:"Timeout: No response from server after 10 seconds."})}),1e4)}catch(t){console.error("Failed to fetch donations from server:",t),n({error:err.message})}}))}get_all(t={},e=void 0){const o=new URL(A.getURL);return o.searchParams.append("id",this.id),Object.entries(t).filter((([t,e])=>void 0!==e)).map((([t,e])=>[t.toLocaleLowerCase(),e])).sort((([t],[e])=>{const o=[...A.validQueryParams,"limit","offset"];return o.indexOf(t)-o.indexOf(e)})).forEach((([t,e])=>{if("id"==t)o.searchParams.append("id",this.id),console.warn("Warning: Cannot override ID set by constructor.");else if("bypass"==t)console.warn("Cannot use bypass parameter in get() method. Enable pixel instance debug mode instead to bypass cache.");else if("from"==t||"to"==t){const n=new Date(e).toISOString().split("T")[0].replace(/-/g,"");if(!A.validateQueryParamValues[t](n))return console.warn(`Warning: Invalid date format for "${t}" ignored. Expected format is YYYYMMDD.`);o.searchParams.append(t,n)}else if([...A.validQueryParams,"limit","offset"].includes(t)){if(A.validateQueryParamValues[t]&&!A.validateQueryParamValues[t](e))return console.warn(`Warning: Invalid value for "${t}" ignored.`);o.searchParams.append(t,e)}else console.warn(`Warning: Invalid query parameter "${t}" ignored.`)})),this.debug&&(o.searchParams.append("bypass","1"),console.warn("Warning! Bypass mode is intended for testing purposes only. Disable it before launching your experiment.")),new Promise((async(t,n)=>{try{const r=await fetch(o.href,{method:"GET",headers:{accept:"application/json"}});if(200!=r.status)throw new Error("HTTP error:",r.status);const i=await r.json();e&&"function"==typeof e&&e(i),this.responses.push(i),t(i),setTimeout((()=>{n({error:"Timeout: No response from server after 10 seconds."})}),1e4)}catch(t){console.error("Failed to fetch donations from server:",t),n({error:err.message})}}))}track(t,e){const o=new URL(A.sendURL);if(o.searchParams.append("id",this.id),o.searchParams.append("amount",t),"single"!==e&&"recurring"!==e)return console.warn(`Warning: Invalid type "${e}" ignored. Valid types are "single" or "recurring".`);o.searchParams.append("type",e),this.sendPixel(sendURL.href)}get id(){return this._getId()}set debug(t){this._setDebugMode(!!t),console.info("Debug mode now "+(this._getDebugMode()?"enabled":"disabled"))}get debug(){return this._getDebugMode()}}const P=A;function E(){return this.querySelector("slot")||this.shadowRoot&&this.shadowRoot.querySelector("slot")}window.HTMLElement.prototype.getSlot=window.HTMLElement.prototype.getSlot||E;const _=E;function S(t){return"NaN"!==parseInt(t)&&t>=0?Array.from(_.call(this).assignedNodes({flatten:!0}))[t]:Array.from(_.call(this).assignedNodes({flatten:!0}))}window.HTMLElement.prototype.getSlotNodes=window.HTMLElement.prototype.getSlotNodes||S;const T=S;function C(){return"NaN"!==parseInt(index)&&index>=0?Array.from(this.shadowRoot.children)[index]:Array.from(this.shadowRoot.children)}window.HTMLElement.prototype.shadowChildren=window.HTMLElement.prototype.shadowChildren||C;const L=C;function M(t){let e=[];const o=n=>{n instanceof HTMLElement&&n.matches(t)&&e.push(n),customElements.get(n.tagName.toLowerCase())?(n.shadowRoot?Array.from(n.shadowRoot.children):[]).forEach((t=>o(t))):Array.from(n.children).forEach((t=>o(t))),"slot"===n.tagName.toLowerCase()&&n.assignedNodes({flatten:!0}).forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&o(t)}))};return this instanceof Document?o(this.documentElement):o(this),e.length>0?e:void 0}function k(t){let e=[];const o=n=>{if(n instanceof HTMLElement&&n.matches(t))return e.push(n);customElements.get(n.tagName.toLowerCase())?(n.shadowRoot?Array.from(n.shadowRoot.children):[]).forEach((t=>o(t))):Array.from(n.children).forEach((t=>o(t))),"slot"===n.tagName.toLowerCase()&&n.assignedNodes({flatten:!0}).forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&o(t)}))};return this instanceof Document?o(this.documentElement):o(this),e.length>0?e[0]:void 0}window.HTMLElement.prototype.shadowQuerySelectorAll=window.HTMLElement.prototype.shadowQuerySelectorAll||M,window.HTMLElement.prototype.shadowQuerySelector=window.HTMLElement.prototype.shadowQuerySelector||k,window.Document.prototype.shadowQuerySelectorAll=window.HTMLElement.prototype.shadowQuerySelectorAll||M,window.Document.prototype.shadowQuerySelector=window.HTMLElement.prototype.shadowQuerySelector||k,window.DocumentFragment.prototype.shadowQuerySelectorAll=window.HTMLElement.prototype.shadowQuerySelectorAll||M,window.DocumentFragment.prototype.shadowQuerySelector=window.HTMLElement.prototype.shadowQuerySelector||k;const H=function(t,e=1e4){return new Promise(((o,n)=>{if(document.querySelector(t)&&document.querySelector(t).isConnected)return o(document.querySelector(t));let r;const i=new MutationObserver((e=>{for(const n of e)for(const e of n.addedNodes)if(e instanceof HTMLElement&&e.matches(t)&&e.isConnected)return clearInterval(r),i.disconnect(),o(e)}));i.observe(document.documentElement,{childList:!0,subtree:!0}),r=setInterval((t=>{if(document.querySelector(t)&&document.querySelector(t).isConnected)return clearInterval(r),i.disconnect(),o(document.querySelector(t))}),50,t),setTimeout((e=>{e.disconnect(),n(new Error(`Element with selector "${t}" not found within the time limit.`))}),e,i)}))},I=function(t,e,...o){let n=!1;window.addEventListener("scroll",(function r(){const i=window.scrollY,a=window.innerHeight,s=document.documentElement.scrollHeight;0==n&&i+a*e*.5>=s*e*.5&&(t(...o),n=!0,window.removeEventListener("scroll",r))}))};class D extends HTMLElement{static defaultOptions={typingSpeed:16,delayBetween:4,delayInitial:2,iterationCount:1/0};static CSS="\n        typing-text[typing] { position: relative }\n        typing-text[typing]:not(:has(::part(cursor)))::after::after {\n            content: '';\n            display: block;\n            position: absolute; right: -4px; bottom: -3px;\n            width: 2px;\n            height: 1.75em;\n            background-color: white;\n            transform: scaleY(0.65) translateY(1px);\n            animation: 1s ease-in-out 0s infinite running cursor-blink;\n        }\n        typing-text::part(cursor) {\n            display: inline-block;\n            line-height: 1.2;\n            width: 2px;\n            height: 1em;\n            background-color: white;\n            transform: scaleY(110%) translate(1px, 1px);\n        }\n        @keyframes cursor-blink {\n            0% { opacity: 1 }\n            50% { opacity: 0 }\n            100% { opacity: 1 }\n        }\n    ";static delay=t=>new Promise((e=>setTimeout(e,t)));static cursor=()=>{const t=document.createElement("i");return t.classList.add("cursor"),t.setAttribute("part","cursor"),t.animate([{opacity:1},{opacity:0},{opacity:1}],{duration:1e3,easing:"ease-in-out",iterations:1/0}),t};static async writeText(t){const e=t.nodeType===Node.ELEMENT_NODE;if(this.shadowRoot.innerHTML="",e){const e=t.cloneNode(!0),o=D.cursor();e.textContent="",this.shadowRoot.append(e),this.shadowRoot.append(o),e.setAttribute("cursor","typing"),t=t.textContent.trim();for(let o=0;o<t.length;o++)this.animationPaused?(await D.delay(100),o--):(e.textContent=e.textContent+t[o],await D.delay(1e3/this.options.typingSpeed));return e.removeAttribute("cursor"),o.remove(),e}{const e=document.createTextNode("");e.nodeValue="",this.shadowRoot.append(e),t=t.nodeValue.trim();for(let o=0;o<t.length;o++)this.animationPaused?(await D.delay(100),o--):(e.nodeValue=e.nodeValue+t[o],await D.delay(1e3/this.options.typingSpeed));return e}}static async deleteText(){if(this.shadowRoot.firstChild.nodeType===Node.ELEMENT_NODE){const t=this.shadowRoot.firstChild,e=D.cursor();for(this.shadowRoot.append(e),t.setAttribute("cursor","typing");t.textContent.length>0;)this.animationPaused?await D.delay(100):(t.textContent=t.textContent.slice(0,-1),await D.delay(1e3/this.options.typingSpeed));t.removeAttribute("cursor"),e.remove()}else{const t=this.shadowRoot.firstChild;for(;t.nodeValue.length>0;)this.animationPaused?await D.delay(100):(t.nodeValue=t.nodeValue.slice(0,-1),await D.delay(1e3/this.options.typingSpeed))}}constructor(){super(),this.attachShadow({mode:"open"}),this.slots=new Array,this.options={...D.defaultOptions};const t=this.attributes;for(let{name:e,value:o}of t)switch(Number.isNaN(parseFloat(o))||(o=parseFloat(o)%1==0?parseInt(o):parseFloat(o)),e){case"typing-speed":this.options.typingSpeed=o;break;case"delay-between":this.options.delayBetween=o;break;case"delay-initial":this.options.delayInitial=o;break;case"iteration-count":this.options.interationCount=o;break;default:this.options[e]=o}return 0==this.shadowRoot.ownerDocument.querySelectorAll('style[name="TypingText"]').length&&this.ownerDocument.head.insertAdjacentHTML("beforeend",`<style name="TypingText" type="text/css">${D.CSS}</style>`),window.addEventListener("blur",(()=>this.pauseAnimation())),window.addEventListener("focus",(()=>this.resumeAnimation())),this}connectedCallback(){Array.from(this.childNodes).forEach(((t,e)=>{switch(t.nodeType){case Node.TEXT_NODE:t.nodeValue.trim().length>0&&this.addSlot(t);break;case Node.ELEMENT_NODE:if(t.matches("br")||t.matches("hr")||t.matches("input")){console.warn("Element that cannot contain text nodes or other elements will be ignored:",t),t.remove();break}this.addSlot(t)}})),this.startAnimation()}addSlot(t){this.shadowRoot.append(t),this.slots.push(t)}removeSlot(t){(this.slots.includes(t)||-1!==this.slots.indexOf(t))&&(this.slots=this.slots.splice(this.slots.indexOf(t),1)),this.shadowRoot.contains(t)&&t.remove()}addSlots(...t){t.forEach((t=>this.addSlot(t)))}removeSlots(...t){t.forEach((t=>this.removeSlot(t)))}addText(t){const e=document.createTextNode(t);this.addSlot(e)}removeText(t){const e=this.slots.find((e=>e.nodeValue=t||e.match(t)));e&&this.removeSlot(e)}async startAnimation(){this.animationIndex=0;let t=0;const e=this.slots[this.animationIndex++].cloneNode(!0);if(this.shadowRoot.innerHTML="",this.shadowRoot.append(e),0===this.options.iterationCount)return this.pauseAnimation();for(await D.delay(1e3*this.options.delayInitial);this.options.iterationCount===1/0||t<this.options.iterationCount;){if(this.animationPaused){await D.delay(100);continue}if(0===this.slots.length){console.warn("<typing-text>","No text to animate.\n",this);break}const e=this.slots[this.animationIndex];this.setAttribute("typing",""),await D.deleteText.call(this),await D.writeText.call(this,e),this.removeAttribute("typing"),this.animationIndex=(this.animationIndex+1)%this.slots.length,0===this.animationIndex&&t++,await D.delay(1e3*this.options.delayBetween)}}pauseAnimation(){this.animationPaused=!0}resumeAnimation(){this.animationPaused=!1,this.startAnimation()}}const B=D,R=async function(t,e={},o=void 0){const n=new A(t);return await n.get(e,o)},O={Popup:w,ExitIntentPopup:N,NextAfterPixel:P,getSlot:_,getSlotNodes:T,shadowChildren:L,shadowQuerySelector:k,shadowQuerySelectorAll:M,asyncWaitForElement:H,fetchDonations:R,onExitIntent:x,onScrollDepth:I,TypingText:B};var Q=n.Hm,$=n.M6,q=n.zD,F=n.Lx,V=n.Xs,j=n.Ay,W=n.cs,Y=n.$c,U=n.cH,z=n.g6,X=n.EM,G=n._P,J=n.WF,K=n.nV;export{Q as ExitIntentPopup,$ as NextAfterPixel,q as Popup,F as TypingText,V as asyncWaitForElement,j as default,W as fetchDonations,Y as getSlot,U as getSlotNodes,z as onExitIntent,X as onScrollDepth,G as shadowChildren,J as shadowQuerySelector,K as shadowQuerySelectorAll};