!function(o,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Popup=t():o.Popup=t()}(this,(()=>(()=>{"use strict";var o={d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},t={};o.r(t),o.d(t,{default:()=>n});class e{static defaultOptions={id:(new Date).getTime(),content:{headingHTML:"",bodyHTML:"",footerHTML:""},actions:[{textHTML:"Yes, I agree!",href:"https://donate.example.com/?src=popup"},{textHTML:"No, I do not agree.",action:function(o,t){this?this.close():t.close()}}],design:{width:640,popupBackdrop:"rgba(0 0 0 / 5%)",popupForegroundColor:"black",popupBackgroundColor:"white",popupBorder:"none",popupBorderAlternate:"none",popupBorderRadius:"1rem",popupButtonForegroundColor:"black",popupButtonBackgroundColor:"#f5c635",popupButtonBorder:"none",popupButtonForegroundColor2:"white",popupButtonBackgroundColor2:"black",popupButtonBorder2:"none"},open:!1};static createDialogElement=function(){const o=document.createElement("dialog");return o.id="popup-"+(new Date).getTime(),o.classList.add("NextAfterPopup","popup"),document.body.appendChild(o),o};static createCloseButton=function(o){const t=document.createElement("a");return t.classList.add("NextAfterPopup__close-button"),t.href="javascript:void(0)",t.textContent="Ã—",t.tabIndex=-1,t.addEventListener("click",function(o){(o=o||this||null)&&(o instanceof e&&o.hide(),o instanceof HTMLDialogElement&&o.close())}.bind(this,o)),t};constructor(o,t={}){this.dialog=o||e.createDialogElement(),this.config={...e.defaultOptions,...t},this.content={...e.defaultOptions.content,...this.config.content},this.actions=this.config.actions&&this.config.actions.length>0?this.config.actions:e.defaultOptions.actions,this.dialog.innerHTML='<div>\n      <div class="na-column NextAfterPopup__content">\n        <div class="na-block">\n          <section class="NextAfterPopup__header"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__body na-column"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__actions na-row na-gap-1"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__footer"></section>\n        </div>\n      </div>\n    </div>',this.content={heading:this.dialog.querySelector(".NextAfterPopup__header")&&this.content.heading?(this.dialog.querySelector(".NextAfterPopup__header").innerHTML=this.content.heading,this.dialog.querySelector(".NextAfterPopup__header")):null,body:this.dialog.querySelector(".NextAfterPopup__body")&&this.content.body?(this.dialog.querySelector(".NextAfterPopup__body").innerHTML=this.content.body,this.dialog.querySelector(".NextAfterPopup__body")):null,footer:this.dialog.querySelector(".NextAfterPopup__footer")&&this.content.footer?(this.dialog.querySelector(".NextAfterPopup__footer").innerHTML=this.content.footer,this.dialog.querySelector(".NextAfterPopup__footer")):null,actions:this.dialog.querySelector(".NextAfterPopup__actions")&&this.actions&&this.actions.length>0?(this.actions.forEach((({type:o,textHTML:t,action:e=null,href:n="javascript:void(0)"},p)=>{const i=document.createElement("a"),r=document.createElement("button");r.classList.add("NextAfterPopup__action-button"),r.innerHTML=t,r.tabIndex=0,i.href=n,"function"==typeof e&&r.addEventListener("click",function(o){e.call(this,o,this.dialog)}.bind(this)),i.appendChild(r),this.dialog.querySelector(".NextAfterPopup__actions").appendChild(i)})),this.dialog.querySelector(".NextAfterPopup__actions")):null},this.buttons=Array.from(this.content.actions.children),this.config.design={...e.defaultOptions.design,...this.config.design};const n=new CSSStyleSheet,p=this.config.design;if(n.replaceSync(`\n      .NextAfterPopup {\n        --popup-maxWidth: ${p.width||640}px;\n        --popup-backdrop: ${p.popupBackdrop};\n        --popup-fgColor: ${p.popupForegroundColor};\n        --popup-bgColor: ${p.popupBackgroundColor};\n        --popup-border: ${p.popupBorder};\n        --popup-border-alt: ${p.popupBorderAlternate};\n        --popup-cornerRadius: ${p.popupBorderRadius};\n        --popup-button-fgColor: ${p.popupButtonForegroundColor};\n        --popup-button-bgColor: ${p.popupButtonBackgroundColor};\n        --popup-button-border: ${p.popupButtonBorder};\n        --popup-button-cornerRadius: calc(${p.popupBorderRadius} / 2);\n        --popup-button-fgColor2: ${p.popupButtonForegroundColor2};\n        --popup-button-bgColor2: ${p.popupButtonBackgroundColor2};\n        --popup-button-border2: ${p.popupButtonBorder2};\n      }\n    `),"none"!==p.popupBorderAlternate&&n.replaceSync("\n      .NextAfterPopup > div {\n        padding: 1rem;\n        border: var(--popup-border-alt);\n      }\n    "),document.adoptedStyleSheets=[...document.adoptedStyleSheets,n],this.dialog.insertAdjacentElement("beforeend",e.createCloseButton.call(this,this.dialog)),!this.dialog.isConnected&&document.body.appendChild(this.dialog),!0===this.config.open)this.dialog.showModal();else if(this.config.openAfterSeconds&&!Number.isNaN(parseInt(this.config.openAfterSeconds))){const o=parseInt(this.config.openAfterSeconds);setTimeout((()=>{this.dialog.showModal()}),1e3*o)}return console.log(this),this}isOpen(){return!!this.dialog.open}show(){this.dialog.showModal()}hide(){this.dialog.close()}}const n=e;return t})()));