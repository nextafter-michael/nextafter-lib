!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Popup=e():t.Popup=e()}(this,(()=>(()=>{"use strict";var t={56:(t,e,o)=>{t.exports=function(t){var e=o.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function o(t){for(var o=-1,n=0;n<e.length;n++)if(e[n].identifier===t){o=n;break}return o}function n(t,n){for(var p={},i=[],a=0;a<t.length;a++){var u=t[a],c=n.base?u[0]+n.base:u[0],s=p[c]||0,l="".concat(c," ").concat(s);p[c]=s+1;var d=o(l),f={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var h=r(f,n);n.byIndex=a,e.splice(a,0,{identifier:l,updater:h,references:1})}i.push(l)}return i}function r(t,e){var o=e.domAPI(e);return o.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;o.update(t=e)}else o.remove()}}t.exports=function(t,r){var p=n(t=t||[],r=r||{});return function(t){t=t||[];for(var i=0;i<p.length;i++){var a=o(p[i]);e[a].references--}for(var u=n(t,r),c=0;c<p.length;c++){var s=o(p[c]);0===e[s].references&&(e[s].updater(),e.splice(s,1))}p=u}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},232:(t,e,o)=>{o.d(e,{A:()=>a});var n=o(601),r=o.n(n),p=o(314),i=o.n(p)()(r());i.push([t.id,".na-block { display: block }\n.na-flex { display: flex }\n.na-column {\n  display: flex;\n  flex-direction: column;\n}\n.na-row {\n  display: flex;\n  flex-direction: row;\n}\n.na-justify-center { justify-content: center }\n.na-justify-between { justify-content: between }\n.na-align-center { align-items: center }\n.na-text-center { text-align: center }\n.na-text-left { text-align: left }\n.na-text-right { text-align: right }\n.na-gap-0 { gap: 0 }\n.na-gap-1 { gap: 0.5rem }\n.na-gap-2 { gap: 1rem }\n.na-gap-3 { gap: 1.5rem }\n.na-gap-4 { gap: 2rem }\n.na-gap-5 { gap: 3rem }",""]);const a=i},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o="",n=void 0!==e[5];return e[4]&&(o+="@supports (".concat(e[4],") {")),e[2]&&(o+="@media ".concat(e[2]," {")),n&&(o+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),o+=t(e),n&&(o+="}"),e[2]&&(o+="}"),e[4]&&(o+="}"),o})).join("")},e.i=function(t,o,n,r,p){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(n)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(i[u]=!0)}for(var c=0;c<t.length;c++){var s=[].concat(t[c]);n&&i[s[0]]||(void 0!==p&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=p),o&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=o):s[2]=o),r&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=r):s[4]="".concat(r)),e.push(s))}},e}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,o){var n=function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},812:(t,e,o)=>{o.d(e,{A:()=>c});var n=o(601),r=o.n(n),p=o(314),i=o.n(p),a=o(232),u=i()(r());u.i(a.A),u.push([t.id,".NextAfterPopup {\n  padding: 0;\n  color: var(--popup-fgColor);\n  background: var(--popup-bgColor);\n  max-width: var(--popup-maxWidth);\n  border-radius: var(--popup-cornerRadius);\n}\ndialog.NextAfterPopup { border: var(--popup-border) }\ndialog.NextAfterPopup::backdrop { background: var(--popup-backdrop) }\n.NextAfterPopup > div { position: relative }\n.NextAfterPopup h1,\n.NextAfterPopup h2,\n.NextAfterPopup h3,\n.NextAfterPopup h4,\n.NextAfterPopup h5,\n.NextAfterPopup h6,\n.NextAfterPopup ul,\n.NextAfterPopup li,\n.NextAfterPopup p {\n  margin: 0;\n  margin-block-start: 0;\n  margin-block-end: 0;\n  margin-block-end: 0.5rem;\n}\n.NextAfterPopup .NextAfterPopup__close-button {\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  right: 0;\n  opacity: 0.7;\n  z-index: 1;\n  width: 32px;\n  height: 32px;\n  font-size: 32px;\n  line-height: 24px;\n  text-align: center;\n  text-decoration: none;\n  outline: none;\n  color: black;\n  background: transparent;\n  transition: opacity 0.15s ease;\n}\n.NextAfterPopup .NextAfterPopup__close-button:hover { opacity: 0.85 }\n.NextAfterPopup .NextAfterPopup__close-button:active { opacity: 1.0 }\n.NextAfterPopup .NextAfterPopup__content { padding: 1rem }\n.NextAfterPopup .NextAfterPopup__actions {\n  display: flex;\n  flex-direction: row;\n  gap: 1rem;\n  margin: 1rem 0 0;\n}\n.NextAfterPopup a:has(button) { display: contents }\n.NextAfterPopup .NextAfterPopup__action-button {\n  display: block;\n  width: 100%;\n  max-width: 50%;\n  padding: 0.5rem;\n  font-size: 1em;\n  font-weight: 700;\n  cursor: pointer;\n  transition: all 0.15s ease-in-out, scale 0.2s ease;\n}\n/* .NextAfterPopup .NextAfterPopup__action-button:hover { scale: 102% } */\n.NextAfterPopup .NextAfterPopup__actions a .NextAfterPopup__action-button {\n  color: var(--popup-button-fgColor);\n  background-color: var(--popup-button-bgColor);\n  border: var(--popup-button-border);\n  border-radius: var(--popup-button-cornerRadius);\n}\n.NextAfterPopup .NextAfterPopup__actions a:not(:first-child) .NextAfterPopup__action-button {\n  display: block;\n  width: 100%;\n  max-width: 50%;\n  padding: 0.5rem;\n  font-size: 1em;\n  cursor: pointer;\n  color: var(--popup-button-fgColor2);\n  background-color: var(--popup-button-bgColor2);\n  border: var(--popup-button-border2);\n/*   outline-color: var(--popup-button-bgColor); */\n}\n.NextAfterPopup .NextAfterPopup__actions a .NextAfterPopup__action-button:hover { background-color: color-mix(in srgb, var(--popup-button-bgColor), black 10%) }\n.NextAfterPopup .NextAfterPopup__actions a:not(:first-child) .NextAfterPopup__action-button { background-color: color-mix(in srgb, var(--popup-button-bgColor2), black 10%) }\n@media only screen and (max-width: 480px) {\n  .NextAfterPopup .NextAfterPopup__actions {\n    display: flex;\n    flex-direction: column;\n  }\n  .NextAfterPopup .NextAfterPopup__action-button {\n    max-width: 100%;\n  }\n}\n",""]);const c=u},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(o){!function(t,e,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,r&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var p=o.sourceMap;p&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(p))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,o)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var p=e[n]={id:n,exports:{}};return t[n](p,p.exports,o),p.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.nc=void 0;var n={};o.r(n),o.d(n,{default:()=>v});var r=o(72),p=o.n(r),i=o(825),a=o.n(i),u=o(659),c=o.n(u),s=o(56),l=o.n(s),d=o(540),f=o.n(d),h=o(113),g=o.n(h),b=o(812),x={};x.styleTagTransform=g(),x.setAttributes=l(),x.insert=c().bind(null,"head"),x.domAPI=a(),x.insertStyleElement=f(),p()(b.A,x),b.A&&b.A.locals&&b.A.locals;class m{static defaultOptions={id:(new Date).getTime(),content:{headingHTML:"",bodyHTML:"",footerHTML:""},actions:[{textHTML:"Yes, I agree!",href:"https://donate.example.com/?src=popup"},{textHTML:"No, I do not agree.",action:function(t,e){this?this.close():e.close()}}],design:{width:640,popupBackdrop:"rgba(0 0 0 / 5%)",popupForegroundColor:"black",popupBackgroundColor:"white",popupBorder:"none",popupBorderAlternate:"none",popupBorderRadius:"1rem",popupButtonForegroundColor:"black",popupButtonBackgroundColor:"#f5c635",popupButtonBorder:"none",popupButtonForegroundColor2:"white",popupButtonBackgroundColor2:"black",popupButtonBorder2:"none"},open:!1};static createDialogElement=function(){const t=document.createElement("dialog");return t.id="popup-"+(new Date).getTime(),t.classList.add("NextAfterPopup","popup"),document.body.appendChild(t),t};static createCloseButton=function(t){const e=document.createElement("a");return e.classList.add("NextAfterPopup__close-button"),e.href="javascript:void(0)",e.textContent="Ã—",e.tabIndex=-1,e.addEventListener("click",function(t){(t=t||this||null)&&(t instanceof m&&t.hide(),t instanceof HTMLDialogElement&&t.close())}.bind(this,t)),e};constructor(t,e={}){this.config={...m.defaultOptions,...e},this.config.design={...m.defaultOptions.design,...this.config.design},this.content={...m.defaultOptions.content,...this.config.content},this.actions=this.config.actions&&this.config.actions.length>0?this.config.actions:m.defaultOptions.actions,this.dialog=t||m.createDialogElement(),this.dialog.innerHTML='<div>\n      <div class="na-column NextAfterPopup__content">\n        <div class="na-block">\n          <section class="NextAfterPopup__header"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__body na-column"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__actions na-row na-gap-1"></section>\n        </div>\n        <div class="na-block">\n          <section class="NextAfterPopup__footer"></section>\n        </div>\n      </div>\n    </div>',this.blocks={},this.blocks.heading=this.dialog.querySelector(".NextAfterPopup__header")&&this.content.headingHTML&&0!==this.content.headingHTML.trim().length?(this.dialog.querySelector(".NextAfterPopup__header").innerHTML=this.content.headingHTML,this.dialog.querySelector(".NextAfterPopup__header")):null,this.blocks.body=this.dialog.querySelector(".NextAfterPopup__body")&&this.content.bodyHTML&&0!==this.content.bodyHTML.trim().length?(this.dialog.querySelector(".NextAfterPopup__body").innerHTML=this.content.bodyHTML,this.dialog.querySelector(".NextAfterPopup__body")):null,this.blocks.footer=this.dialog.querySelector(".NextAfterPopup__footer")&&this.content.footerHTML&&0!==this.content.footerHTML.trim().length?(this.dialog.querySelector(".NextAfterPopup__footer").innerHTML=this.content.footerHTML,this.dialog.querySelector(".NextAfterPopup__footer")):null,this.blocks.actions=this.dialog.querySelector(".NextAfterPopup__actions")&&this.actions&&this.actions.length>0?(this.actions.forEach((({type:t,textHTML:e,action:o=null,href:n="javascript:void(0)"},r)=>{const p=document.createElement("a"),i=document.createElement("button");i.classList.add("NextAfterPopup__action-button"),i.innerHTML=e,i.tabIndex=0,p.href=n,"function"==typeof o&&i.addEventListener("click",function(t){o.call(this,t,this.dialog)}.bind(this)),p.appendChild(i),this.dialog.querySelector(".NextAfterPopup__actions").appendChild(p)})),this.dialog.querySelector(".NextAfterPopup__actions")):null,this.buttons=Array.from(this.blocks.actions.children);const o=new CSSStyleSheet,n=this.config.design;if(o.replaceSync(`\n      .NextAfterPopup {\n        --popup-maxWidth: ${n.width||640}px;\n        --popup-backdrop: ${n.popupBackdrop};\n        --popup-fgColor: ${n.popupForegroundColor};\n        --popup-bgColor: ${n.popupBackgroundColor};\n        --popup-border: ${n.popupBorder};\n        --popup-border-alt: ${n.popupBorderAlternate};\n        --popup-cornerRadius: ${n.popupBorderRadius};\n        --popup-button-fgColor: ${n.popupButtonForegroundColor};\n        --popup-button-bgColor: ${n.popupButtonBackgroundColor};\n        --popup-button-border: ${n.popupButtonBorder};\n        --popup-button-cornerRadius: calc(${n.popupBorderRadius} / 2);\n        --popup-button-fgColor2: ${n.popupButtonForegroundColor2};\n        --popup-button-bgColor2: ${n.popupButtonBackgroundColor2};\n        --popup-button-border2: ${n.popupButtonBorder2};\n      }\n    `),"none"!==n.popupBorderAlternate&&o.replaceSync("\n      .NextAfterPopup > div {\n        padding: 1rem;\n        border: var(--popup-border-alt);\n      }\n    "),document.adoptedStyleSheets=[...document.adoptedStyleSheets,o],this.dialog.insertAdjacentElement("beforeend",m.createCloseButton.call(this,this.dialog)),!this.dialog.isConnected&&document.body.appendChild(this.dialog),!0===this.config.open)this.dialog.showModal();else if(this.config.openAfterSeconds&&!Number.isNaN(parseInt(this.config.openAfterSeconds))){const t=parseInt(this.config.openAfterSeconds);setTimeout((()=>{this.dialog.showModal()}),1e3*t)}return console.log(this),this}isOpen(){return!!this.dialog.open}show(){this.dialog.showModal()}hide(){this.dialog.close()}}const v=m;return n})()));